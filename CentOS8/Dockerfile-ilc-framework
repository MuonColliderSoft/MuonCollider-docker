###############################################################################
#  Repository: mucoll-ilc-framework
#  Tag:        1.1-centos8
###############################################################################

FROM infnpd/mucoll-ilc-base:1.1-centos8

RUN cd /opt/iLCInstall && \
    ./ilcsoft-install releases/development/release-ilcsoft.cfg --install-prefix=/opt/ilcsoft -v -i

RUN cd /opt/ilcsoft/v02-02-MC && \
    git clone https://github.com/MuonColliderSoft/detector-simulation.git

RUN sed -i 's|/bin/env python|/usr/bin/env python2|g' /opt/ilcsoft/v02-02-MC/CEDViewer/v01-17-01/bin/ced2go

COPY profile.d_ilcsoft.sh /etc/profile.d/ilcsoft.sh


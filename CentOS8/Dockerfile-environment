###############################################################################
#  Repository: mucoll-environment
#  Tag:        2.0-cs8stream
###############################################################################

FROM cern/c8-base:latest

# Installing updates required for Spack
RUN yum update -y && \
    yum install -y epel-release && \
    yum update -y

RUN yum --enablerepo epel groupinstall -y "Development Tools" && \
    yum --enablerepo epel install -y tmux vim curl findutils gcc-c++ gcc gcc-gfortran git gnupg2 hostname iproute redhat-lsb-core make patch python3 python3-pip python3-setuptools unzip
RUN python3 -m pip install boto3

# Installing newer GCC compiler
RUN yum --enablerepo epel install -y gcc-toolset-11

# Setting up users to be used for the local environment setup
RUN echo "root" | passwd --stdin root
RUN useradd --shell /bin/bash --create-home sim && \
    echo "sim" | passwd --stdin sim
USER sim
WORKDIR /home/sim


From 1fd3a9bf8fe6eacf0528c931f3e89824aafd97ad Mon Sep 17 00:00:00 2001
From: Karol Krizka <kkrizka@gmail.com>
Date: Sat, 6 Jul 2024 00:02:02 +0100
Subject: [PATCH 2/2] Fix patch checksum in protobuf.

---
 var/spack/repos/builtin/packages/protobuf/package.py | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

diff --git a/var/spack/repos/builtin/packages/protobuf/package.py b/var/spack/repos/builtin/packages/protobuf/package.py
index 035eab572a..38b907bd45 100644
--- a/var/spack/repos/builtin/packages/protobuf/package.py
+++ b/var/spack/repos/builtin/packages/protobuf/package.py
@@ -110,9 +110,9 @@ class Protobuf(CMakePackage):
 
     # fix build on Centos 8, see also https://github.com/protocolbuffers/protobuf/issues/5144
     patch(
-        "https://github.com/protocolbuffers/protobuf/pull/11032/commits/3039f932aaf212bcf2f14a3f2fd00dbfb881e46b.patch?full_index=1",
+        "https://github.com/protocolbuffers/protobuf/commit/462964ed322503af52638d54c00a0a67d7133349.patch?full_index=1",
         when="@3.4:3.21",
-        sha256="cefc4bf4aadf9ca33a336b2aa6d0d82006b6563e85122ae8cfb70345f85321dd",
+        sha256="9b6dcfa30dd3ae0abb66ab0f252a4fc1e1cc82a9820d2bdb72da35c4f80c3603",
     )
 
     patch("msvc-abseil-target-namespace.patch", when="@3.22 %msvc")
-- 
2.45.1

